{% extends "layout.html" %}
{% block body %}
<style>
.fileUpload {
  position: relative;
  overflow: hidden;
}
.fileUpload input.upload {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  padding: 0;
  font-size: 20px;
  cursor: pointer;
  opacity: 0;
  filter: alpha(opacity=0);
}
</style>        
<div class="container jumbotron" style="text-align:left">

  <form id="signup-form" class="form-signin" role="form" action="#" style="
    max-width: 330px;
    margin:0 auto;" enctype="multipart/form-data">
    <h2 class="form-signin-heading">Sign Up</h2>

      <div class="form-group">
        <label for="inputEmail" class="col-lg-2 control-label">Email</label>
          <div class="col-lg-10">
            <input name='email' type="text" class="form-control" id="inputEmail" placeholder="Email">
          </div>
      </div>

      <div class="form-group">
        <label for="inputPassword" class="col-lg-2 control-label">Password</label>
        <div class="col-lg-10">
          <input name="pw" type="password" class="form-control" id="inputPassword" placeholder="Password">
        </div>
      </div>

      <div class="form-group">
        <label for="inputPassword" class="col-lg-2 control-label">Confirm Password</label>
          <div class="col-lg-10">
            <input type="password" class="form-control" id="inputPassword" placeholder="Password">
          </div>
      </div>
      
      <div class="form-group">
        <label for="inputName" class="col-lg-2 control-label">Name</label>
          <div class="col-lg-10">
            <input name="name" type="text" class="form-control" id="inputName" placeholder="Name">
          </div>
      </div>

      <div class="form-group" style="margin-bottom:0">
        <label for="inputImage" class="col-lg-2 control-label">Profile Image</label>
        <div class="col-lg-10 fileinputs" style="padding-left:15px">                  
          <input id="uploadFile" placeholder="Choose File" disabled="disabled" class="form-control" />
          <div class="fileUpload btn btn-primary" style="font-size:small;padding:8px 14px"> 
            <span>Upload</span>
            <input name="pic" id="uploadBtn" type="file" class="upload" style="width:73px;height:36px"/>
          </div>
        </div>
      </div>

      <div class="form-group btns" style="margin-top:10px">
        <div class="pull-right col-lg-12">
          <a id="send"  class="btn btn-success" style="font-size:small;padding:8px 14px">Sign Up</a>
        </div>
      </div>
  </form>

</div> <!-- /container -->
<script>
$(document).ready(function() {
  document.getElementById("uploadBtn").onchange = function () {
      var rawstring = this.value.trim().split("\\");
      document.getElementById("uploadFile").value = rawstring[rawstring.length-1];
  };

  $('#send').click(function() {
    signup("#signup-form", function(success, data) {
        if (success) {
            location.href = "/";
        }
    });
  });
});
</script>
{% endblock %}
